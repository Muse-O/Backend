config:
  target: "http://3.87.217.12/api"
  variables:
    MYSQL_USERNAME_TEST: "{$.env.MYSQL_USERNAME_TEST}"
    MYSQL_HOST_TEST: "{$.env.MYSQL_HOST_TEST}"
    MYSQL_PASSWORD_TEST: "{$.env.MYSQL_PASSWORD_TEST}"
  phases:
    - duration: 10
      arrivalRate: 5
      name: Warm up
    - duration: 60
      arrivalRate: 10
      rampTo: 20
      name: Ramp up load
scenarios:
  - name: "아트그램조회"
    flow:
      - { "get": { "url": "/" } }
      - post:
          url: "/auth/login"
          json:
            email: "ekqls6812@dd.com"
            password: "a!111222"
          capture:
            - json: "$.token"
              as: "auth_token"
      - get:
          url: "/artgram?limit=10&offset=0"
          headers:
            Authorization: "Bearer {{ auth_token }}"
